# Convertify

Convertify is a small Go web application that lets you upload a CSV file and download a converted JSON file. It provides a simple web UI for uploading, does the conversion server-side, and serves the resulting JSON for download.

## Features

- Upload a CSV (max 10 MB) via the web UI or `curl`
- Server converts CSV → JSON using `github.com/tj330/csvtojson`
- Download the resulting JSON file

## Quickstart

Prerequisites:

- Go 1.18+ (or whichever Go version you target)
- git

Clone and run:

```bash
git clone https://github.com/tj330/convertify.git
cd convertify
go run main.go
```

The server listens on port 8080 by default. Open:

- Web UI: http://localhost:8080/home

### Upload via curl

The upload form field is named `uploadedFile`. Example:

```bash
curl -F "uploadedFile=@./example.csv" http://localhost:8080/upload
```

If successful, the server will write the uploaded CSV into the `data/` directory, convert it to JSON and return a page with a download link.

## Routes

- `GET /home` — main upload page (web UI)
- `POST /upload` — accepts multipart form upload, form field `uploadedFile` (CSV). Limit: 10 MB
- `GET /download/<path-to-json>` — serves the generated JSON file as an attachment

Example download link generated by the app looks like: `/download/data/<filename>.json`

## Project layout

- `main.go` — application entrypoint and handlers
- `templates/` — Go HTML templates used by the UI (e.g. `index.gohtml`, `page.gohtml`)
- `static/` — CSS/static assets served under `/static/`
- `data/` — where uploaded CSV files and generated JSON files are stored

Make sure these directories exist and have correct read/write permissions for the running process.

## Notes & Troubleshooting

- Uploads are saved to `data/` and the resulting JSON is created there as `<originalname>.json`.
- The upload handler only accepts files with `.csv` extension and will return HTTP 400 for other extensions.
- The app sets an in-code multipart/form memory limit of 10 MB

## Security

- The app performs a simple path-cleaning and rejects paths containing `..`, but be careful with file serving and ensure the `data/` directory is only used for intended files.
- Validate and sanitize uploads in production; consider virus scanning or content validation if untrusted uploads are expected.
